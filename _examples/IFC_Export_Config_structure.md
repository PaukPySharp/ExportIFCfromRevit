# Структура конфигурации IFC-экспорта (пример)

Этот файл описывает пример структуры папки с настройками IFC-экспорта,
которая лежит в `_examples/IFC_Export_Config_example/`.

Экспортер **не использует** эту папку напрямую — это эталон,
по которому настраивается живая конфигурация где-нибудь на сервере или локально
(путь до неё задаётся в общих настройках `_settings\settings.ini`).

Краткое описание копирования этой структуры есть в шаге 4 раздела Quick start
корневого [README репозитория](../README.md), а детальная логика привязки путей и имён
разобрана в [ExportIFC_manual](../_docs/ExportIFC_manual.md).

---

## 1. Общая идея

Конфигурация IFC-экспорта разбита на три логических уровня:

- **00_Common** — общие настройки экспорта для всех проектов:  
  - `Export_Settings_NotAttributes.json` базовый без маппирования.

- **01_Export_Layers** — библиотека общих файлов маппинга категорий Revit → классов IFC:  
  - `Layer_Mapping.txt` и возможные варианты.

- **02_Project_*/** — проектные настройки:  
  - `Export_Settings.json` — профиль экспорта IFC для конкретного проекта;  
  - `Property_Mapping.txt` — файл маппинга свойств Revit → IFC.

Такую же структуру рекомендуется воспроизводить
в вашей рабочей папке конфигурации (на сервере или локально).

---

## 2. Обзор структуры папок (пример)

```text
    IFC_Export_Config_example/
    ├─ 00_Common/
    │  └─ Export_Settings_NotAttributes.json
    ├─ 01_Export_Layers/
    │  └─ Layer_Mapping.txt
    └─ 02_Project_example/
       ├─ Export_Settings.json
       └─ Property_Mapping.txt
```

В рабочем варианте:

- `IFC_Export_Config_example` — реальный каталог конфигов  
  (значение параметра `dir_export_config` в `_settings\settings.ini`,
  например, `\\Server\BIM\IFC_Export_Config\` или `D:\IFC_Configs\`).

- `02_Project_example` — папка проекта  
  (например, `02_MyProject`, `03_ShoppingMall_2025` и т.п.).

---

## 3. Переименование папок и файлов

Имена, использованные в этом примере
(`00_Common`, `01_Export_Layers`, `02_Project_example`,
`Export_Settings.json`, `Export_Settings_NotAttributes.json`,
`Layer_Mapping.txt`, `Property_Mapping.txt`) **не являются жёстко зашитыми**.

В реальной конфигурации они могут меняться:

- глобально — через файл `settings.ini`
  (параметры `dir_export_config`, `dir_common`, `dir_layers`, `config_json`);
- для каждого проекта — через строки в `manage.xlsx`
  (путь до папки с настройками маппирования IFC и имена файлов маппинга).

Структура (общий уровень → уровень маппинга категорий → уровень проекта) при этом остаётся той же, меняются только конкретные имена и пути.

При этом любое переименование лучше делать только при понимании всей цепочки (`settings.ini` → `manage.xlsx` → реальные папки и файлы): если забыть поправить один из уровней, ExportIFC просто перестанет находить нужные конфиги.

Путь к папкам с проектными настройками IFC в `manage.xlsx` рекомендуется задавать **полным абсолютным путём** (локальным или сетевым) — в работе ExportIFC используется именно он.

Подробности по привязке путей и конфигов см. в разделе 6 (настройка `_settings/settings.ini`) и разделе 7 («Структура конфигов IFC») файла
[ExportIFC_manual.md](../_docs/ExportIFC_manual.md),
а также в объяснительной записке `_examples/IFC_Export_Config_structure_notes_ru.docx`.
